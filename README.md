# vk_api_visualisation


Отчёт по работе VK API, DataLens, GeoCoder 

Нужно было научиться работать с VK API, получить данные о пользователях, построить граф друзей, а также собрать выборку людей из выбранного города и визуализировать эти данные в Yandex DataLens
Задача состояла из трёх частей:

1. Подключиться к VK API и вывести данные пользователя
2. Построить граф друзей и найти кластеры
3. Собрать 1000 пользователей определённого города, посчитать популярные имена и половозрастную структуру, и вывести это в DataLens

Что сделано:

1) Получил access_token и подключился к VK API
2) Вывел данные о себе и о другом пользователе через users.get
3) Скачал список друзей, построил граф в NetworkX, выделил кластеры и подписал их (школьные друзья, родственники, друзья по играм и т.п.)
3) Собрал около 1000 пользователей города Подольск через метод users.search
Для случайности использовал разные буквы в параметре q и разные offset
Посчитал популярные мужские и женские имена
Посчитал год рождения и разделил статистику по полу
4) Сделал CSV-файлы и загрузил их в DataLens
В DataLens построил:
график популярности имён
демографическую пирамиду

Технологии:

Python (requests, pandas, numpy, networkx)
VK API
Yandex DataLens

Как работает программа:

1) Получаю токен VK
2) Делаю запросы к API, получаю данные пользователей
3) Парсю JSON и сохраняю всё в датафреймы Pandas
4) Строю граф друзей с помощью NetworkX
5) Для города Подольск многократно вызываю users.search собираю пользователей
6) Обрабатываю данные: считаю имена, считаю годы рождения, делаю отрицательные значения для мужчин
7) Сохраняю данные в CSV
8) Загружаю CSV в DataLens и строю графики

Выводы:

1) Через VK API можно получить достаточно много информации, и работать с ним оказалось несложно
2) Граф друзей хорошо показывает реальные социальные группы: видно несколько чётких кластеров
3) DataLens оказался удобной биайкой

Источники:

VK API: https://dev.vk.com
NetworkX: https://networkx.org

Дашборды:

https://datalens.yandex/l4fz8qaub83w6
https://datalens.yandex/q9q3i512l73qb
https://datalens.yandex/7q7r2if89tb0s